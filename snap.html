<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Snapchat</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { margin: 0; background-color: #fff; font-family: Helvetica, sans-serif; height: 100vh; overflow: hidden; }

        /* --- LIST VIEW --- */
        #snapListScreen { display: flex; flex-direction: column; height: 100%; }
        
        .snap-header { background: #fff; padding: 10px 15px; border-bottom: 1px solid #eee; display:flex; justify-content:space-between; align-items:center; }
        .avatar { width: 35px; height: 35px; background: #eee; border-radius: 50%; }
        .page-title { font-weight: bold; font-size: 1.2rem; color: #000; }
        
        .friend-list { flex: 1; overflow-y: auto; }
        .friend-row { display: flex; align-items: center; padding: 12px 15px; border-bottom: 1px solid #f5f5f5; cursor: pointer; }
        .friend-row:active { background: #f0f0f0; }

        .bitmoji { width: 45px; height: 45px; margin-right: 12px; } 
        /* Bitmoji image placeholder */
        .bitmoji img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; }
        
        .friend-data h3 { margin: 0; font-size: 1rem; color: #000; }
        .friend-data p { margin: 4px 0 0; font-size: 0.8rem; color: #666; display: flex; align-items: center; gap: 6px; }
        
        /* Status Boxes (Red/Purple) */
        .status-box { width: 12px; height: 12px; border-radius: 3px; }
        .status-red { background: #f23c57; }
        .status-purple { background: #9b55a0; }
        .status-blue { background: #3cb2e2; }

        /* --- CHAT VIEW --- */
        #snapChatScreen { display: none; flex-direction: column; height: 100%; background: #fff; position: absolute; top: 0; width: 100%; }
        
        .chat-top { padding: 10px; border-bottom: 1px solid #eee; display: flex; align-items: center; gap: 10px; }
        .chat-name { font-weight: bold; font-size: 1.1rem; flex: 1; color: #000; }
        
        .snap-msgs { flex: 1; padding: 15px; overflow-y: auto; display: flex; flex-direction: column; gap: 5px; }
        
        .s-msg { padding: 8px 0; max-width: 80%; font-size: 1rem; }
        .s-in { align-self: flex-start; border-left: 3px solid #3cb2e2; padding-left: 10px; color: #333; }
        .s-out { align-self: flex-end; border-right: 3px solid #f23c57; padding-right: 10px; text-align: right; color: #333; }
        .s-sender { font-size: 0.7rem; color: #3cb2e2; margin-bottom: 2px; display: block;}
    </style>
</head>
<body>

    <div id="snapListScreen">
        <div class="snap-header">
            <div class="avatar"></div>
            <div class="page-title">Chat</div>
            <i class="fa-solid fa-user-plus" style="color:#000; font-size:1.2rem"></i>
        </div>
        <div class="friend-list" id="snapContainer"></div>
    </div>

    <div id="snapChatScreen">
        <div class="chat-top">
            <i class="fa-solid fa-chevron-left" style="font-size:1.5rem; color:#000; cursor:pointer;" onclick="closeSnap()"></i>
            <div class="chat-name" id="snapName">Friend</div>
        </div>
        <div class="snap-msgs" id="snapMsgsBox"></div>
    </div>

    <script>
        const snaps = [
            { 
                id: 1, name: "Bestie ❤️", status: "New Snap • 1m", color: "red",
                msgs: [{side:'in', text:'Sent a snap'}, {side:'out', text:'Opened'}] 
            },
            { 
                id: 2, name: "Rahul", status: "New Chat • 5m", color: "blue",
                msgs: [{side:'in', text:'Aa raha hai?'}, {side:'out', text:'Ha 5 min'}] 
            }
        ];

        function renderSnaps() {
            const con = document.getElementById('snapContainer');
            con.innerHTML = "";
            snaps.forEach(s => {
                let boxClass = s.color === 'red' ? 'status-red' : 'status-blue';
                con.innerHTML += `
                    <div class="friend-row" onclick="openSnap(${s.id})">
                        <div class="bitmoji" style="background:#eee; border-radius:50%"></div>
                        <div class="friend-data">
                            <h3>${s.name}</h3>
                            <p><span class="status-box ${boxClass}"></span> ${s.status}</p>
                        </div>
                    </div>`;
            });
        }

        function openSnap(id) {
            const s = snaps.find(x => x.id === id);
            document.getElementById('snapName').innerText = s.name;
            const box = document.getElementById('snapMsgsBox');
            box.innerHTML = "";
            s.msgs.forEach(m => {
                let cls = m.side === 'in' ? 's-in' : 's-out';
                let sender = m.side === 'in' ? s.name : 'Me';
                box.innerHTML += `
                    <div class="s-msg ${cls}">
                        <span class="s-sender">${sender}</span>
                        ${m.text}
                    </div>`;
            });
            document.getElementById('snapListScreen').style.display = 'none';
            document.getElementById('snapChatScreen').style.display = 'flex';
        }

        function closeSnap() {
            document.getElementById('snapChatScreen').style.display = 'none';
            document.getElementById('snapListScreen').style.display = 'flex';
        }

        renderSnaps();
    </script>
</body>
</html>
