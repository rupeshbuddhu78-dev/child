<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Instagram DM</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { margin: 0; background-color: #000; font-family: -apple-system, sans-serif; color: #fff; height: 100vh; overflow: hidden; }

        /* --- VIEW 1: DM LIST --- */
        #dmListView { display: flex; flex-direction: column; height: 100%; }

        .dm-header { padding: 15px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #262626; }
        .username-top { font-weight: bold; font-size: 1.1rem; display: flex; align-items: center; gap: 5px; }
        
        .dm-list { flex: 1; overflow-y: auto; padding-top: 10px; }
        .dm-item { display: flex; align-items: center; padding: 10px 15px; cursor: pointer; transition: 0.2s; }
        .dm-item:active { background: #1a1a1a; }

        .insta-dp { width: 50px; height: 50px; border-radius: 50%; background: #333; margin-right: 15px; overflow: hidden; }
        .insta-dp img { width: 100%; height: 100%; object-fit: cover; }
        
        .dm-info h4 { margin: 0; font-weight: 400; font-size: 0.95rem; }
        .dm-info p { margin: 3px 0 0; color: #a8a8a8; font-size: 0.85rem; }
        .camera-icon { margin-left: auto; color: #a8a8a8; font-size: 1.2rem; }

        /* --- VIEW 2: CHAT DETAIL --- */
        #chatView { display: none; flex-direction: column; height: 100%; background: #000; position: absolute; top: 0; left: 0; width: 100%; z-index: 20; }

        .chat-nav { padding: 15px; display: flex; align-items: center; border-bottom: 1px solid #262626; }
        .chat-area { flex: 1; padding: 15px; overflow-y: auto; display: flex; flex-direction: column; gap: 5px; }
        
        .msg { padding: 10px 15px; border-radius: 20px; max-width: 70%; font-size: 0.95rem; margin-bottom: 2px; }
        .msg-in { background: #262626; align-self: flex-start; }
        .msg-out { background: linear-gradient(to right, #3797f0, #0064e0); align-self: flex-end; }

        .chat-input { padding: 15px; display: flex; align-items: center; gap: 15px; }
        .pill { flex: 1; background: #262626; padding: 12px 20px; border-radius: 25px; color: #a8a8a8; }
    </style>
</head>
<body>

    <div id="dmListView">
        <div class="dm-header">
            <div class="username-top">my_profile <i class="fa-solid fa-chevron-down" style="font-size:0.8rem"></i></div>
            <i class="fa-regular fa-pen-to-square" style="font-size:1.2rem"></i>
        </div>
        <div class="dm-list" id="instaList"></div>
    </div>

    <div id="chatView">
        <div class="chat-nav">
            <i class="fa-solid fa-arrow-left" style="font-size:1.2rem; margin-right:20px; cursor:pointer;" onclick="closeInstaChat()"></i>
            <div class="insta-dp" style="width:30px; height:30px; margin-right:10px;"><i class="fa-solid fa-user" style="padding:6px"></i></div>
            <div style="flex:1; font-weight:600;" id="instaChatName">User</div>
            <i class="fa-solid fa-phone" style="font-size:1.2rem; margin-right:20px"></i>
            <i class="fa-solid fa-video" style="font-size:1.2rem"></i>
        </div>
        <div class="chat-area" id="instaMsgs"></div>
        <div class="chat-input">
            <div class="pill">Message...</div>
        </div>
    </div>

    <script>
        const instaData = [
            { id: 1, name: "priya_sharma", last: "Sent a reel by you", msgs: [{side:'in', text:'Check this out'}, {side:'out', text:'Haha lol'}] },
            { id: 2, name: "cool_boy_99", last: "Active 1h ago", msgs: [{side:'in', text:'Bro kaha hai?'}] }
        ];

        function renderInsta() {
            const list = document.getElementById('instaList');
            list.innerHTML = "";
            instaData.forEach(u => {
                list.innerHTML += `
                    <div class="dm-item" onclick="openInstaChat(${u.id})">
                        <div class="insta-dp"></div>
                        <div class="dm-info">
                            <h4>${u.name}</h4>
                            <p>${u.last}</p>
                        </div>
                        <i class="fa-solid fa-camera camera-icon"></i>
                    </div>`;
            });
        }

        function openInstaChat(id) {
            const u = instaData.find(x => x.id === id);
            document.getElementById('instaChatName').innerText = u.name;
            const box = document.getElementById('instaMsgs');
            box.innerHTML = "";
            u.msgs.forEach(m => {
                box.innerHTML += `<div class="msg ${m.side==='out'?'msg-out':'msg-in'}">${m.text}</div>`;
            });
            document.getElementById('dmListView').style.display = 'none';
            document.getElementById('chatView').style.display = 'flex';
        }

        function closeInstaChat() {
            document.getElementById('chatView').style.display = 'none';
            document.getElementById('dmListView').style.display = 'flex';
        }

        renderInsta();
    </script>
</body>
</html>
